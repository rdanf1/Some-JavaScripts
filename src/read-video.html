<!DOCTYPE html>
  <body>
    <!-- - Though, It's UP ! (Said Mr Tournesol) -->
    <footer id="myFooter">
       <!-- 'multiple' is html5 for 'multiple="multiple"' :P -->
      <input style="display:none;" type="file" multiple id="myInput"/>     
      
      <!-- A button that Overrides defaults "look" of above input, because 
               1.input style is "display:none;"
           And 2.onclick of this is defined as input.click() later     -->
      <button id="myInputButton">(S)elect Videos</button>
      
      <!-- Other buttons -->
      <button id="myInvertButton">(I)nvert Background</button>
      <button id="myNextButton">(N)ext-></button>
      <button id="myPrevButton"><-(B)ack</button>
      <button id="myHideButton">^(H)ide^</button>
      <!-- Filename text - beside buttons : with style "display:inline" : construction later -->
      <p id="myFileName"></p>
    </footer>
    <main>
      <video controls autoplay id="myVideo"></video>  <!-- Inner Construction later : after input !!! -->
    </main>
    <div id="root_container_overlay">
      <div><img id="myBackgroundImg"> <!-- src="https://my.website.net/static/Wallpaper_Imagine_04_DR.webp"> 
                                                I was here : added later by JS script -->
      </div>
    </div>
  </body>
  <!--*************************************JAVASCRIPT***********************************************-->
  <script>
    
    
    var input  = document.getElementById('myInput'), 
        fileInputNbr = 0,
        buttonInp = document.getElementById('myInputButton'),
        buttonNxt = document.getElementById('myNextButton'),
        buttonPrv = document.getElementById('myPrevButton'),
        buttonInv = document.getElementById('myInvertButton'),
        fileName  = document.getElementById('myFileName'),
        footer    = document.getElementById('myFooter'),
        buttonHid = document.getElementById('myHideButton'),
        img    = document.getElementById('myBackgroundImg'),
        video  = document.getElementById('myVideo');
        
    const srcImgBckgrd = '../img2/Wallpaper_Imagine_04_DR.webp';    
    img.setAttribute("src", srcImgBckgrd);                  // Set background image
        
    buttonInp.onclick = function () {                       // Redefines input button (better look!)
   	input.click();
    }
    
    var bool   = true;
    buttonInv.onclick = function () {
      if (bool  === true) {                                 // Swap between applying or not applying colors invertion
        img.setAttribute("style",                           // Fit screen
          "width: 100%; height: 100%; object-fit: contain;\
-webkit-filter: invert(1);filter: invert(1);");             // Colors Invertion
        bool = false;
      } else {
           img.setAttribute("style",                        // Fit screen
          "width: 100%; height: 100%; object-fit: contain;");
        bool = true;
      };         
      console.log(img);  // Test modified value
    }
    
    fileNbr = 0;
    input.onchange = function (fileNbr) {
        // Initial state
        
        // "this.files" is tricky to sort... => google search string = "sort objects by names javascript"
        // Got it From 3rd result : 
        //    https://stackoverflow.com/questions/1424196/how-to-sort-javascript-object-array-by-element-name
        //
        var filesSorted = [].slice.call(this.files).sort(function(a, b) { return 2 * (a.name > b.name) - 1; });
        
        var file = filesSorted[fileNbr];
        if (file == null) { fileNbr = 0 };        
        fileInputNbr = fileNbr;  // Can be the same thing eventually...
        
        video.load();      // Allows 2d inputs (1+n) to load & start correctly in <video
        
        // INFO : virtual full path is "C:\fakepath\<name of chosen file>" !!! 
        //        =>> Can't save ! See console output ! (idem for BLOB file)
        console.log(input.value);
        
        // Construction of video inner <source src=...
        //file = this.files[fileNbr];     // is tmp BLOB from/not real file (can't save/re-use - I dunno how...)
        file = filesSorted[fileNbr];
        var url = URL.createObjectURL(file);               
        video.innerHTML = '<source src="' + url + '">';
                    // <Using <pre> tag to insert many spaces   // this.files[FileNbr].name;
        fileName.innerHTML = "<pre>  ---  </pre>" + "File name : " + file.name + "<pre>  ---  </pre>"; 
        console.log(fileName);
        // kept here (and at load time) for re-inputs after window resize
        video.setAttribute("width", window.innerWidth + 'px');  
        console.log(video);  // Test modifications of <video element (DR)
         	
    }
    
    // Fixed values for video ( defined when loading page )
    window.onload = function() {
    	video.setAttribute("width", window.innerWidth + 'px');  // always the same... (mine ~ 1360px)
    } 

    buttonNxt.onclick = function () {                // Next button
   	fileInputNbr = fileInputNbr + 1;
   	console.log(fileInputNbr);
   	input.onchange(fileInputNbr);
    }
   
    buttonPrv.onclick = function () {                // Prev button
   	fileInputNbr = fileInputNbr - 1;
   	console.log(fileInputNbr);
   	input.onchange(fileInputNbr);
    }
    
    document.onkeyup=function(e) {         // Shortcuts NEXT/PREV and demonstrate use of $("#id") is JQuery Only.
    	var e = e || window.event;
  	if (e.which == 66) {			// "b" pressed (previous video)
    		buttonPrv.click();
  	} else if (e.which == 78) {		// "n" pressed (next video) 
    		buttonNxt.click();
    	} else if (e.which == 72) {		// "h" pressed (unhide/hide buttons)
    		buttonHid.click(); 
    	} else if (e.which == 83) {		// "s" pressed (Select videos input) 
    		buttonInp.click();
    	} else if (e.which == 73) {		// "i" pressed (invert background color)
    		buttonInv.click(); 
    	}
    }
    
    buttonHid.onclick = function HideFooter() {  // HIDE BUTTONS MENU ( press h to unhide ! )
    	var display = myFooter.style.display;
    	if(display=="none")
        	myFooter.style.display="block";
    	else
        	myFooter.style.display="none";
    }
    
  </script>
  <!--*************************************STYLES**************************************************-->
  <style>                       /* Optionnals attributes : type="text/css" media="screen" */
    body {
    	margin: 0;  /* Overrides default 8px... */
    }
    #root_container_overlay {      /* 1st div background */
    	pointer-events: none;
    	width: 100vw;
    	height: 100vh;
    	position: fixed;
    	opacity: 0.26;
    	z-index: 1000000;
    	display: flex;
    	top: 0px;
    	left: 0px;
    }
    div div {                      /* 2d div background */
    	flex-grow: 1;
    }
    #myBackgroundImg {             /* <img tag */
    	width: 100%;
    	height: 100%;
    	object-fit: contain;
    }
    p, pre {                       /* File texts - after/next to buttons */
     	display: inline;
    }
  </style>
</html>
